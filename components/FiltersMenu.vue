<template>
  <div class="filters-menu" :class="[isExpanded ? 'expanded' : 'collapsed']">
    <BaseBtn @click="togglePanel" :class="{ 'px-0': isExpanded }">
      <template #iconLeft>
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M19.1111 5.77778H18.0705C17.7044 4.74205 16.7166 4 15.5556 4C14.3945 4 13.4067 4.74205 13.0406 5.77778H4.88889C4.39797 5.77778 4 6.17575 4 6.66667C4 7.15758 4.39797 7.55556 4.88889 7.55556H13.0406C13.4067 8.59128 14.3945 9.33333 15.5556 9.33333C16.7166 9.33333 17.7044 8.59128 18.0705 7.55556H19.1111C19.602 7.55556 20 7.15758 20 6.66667C20 6.17575 19.602 5.77778 19.1111 5.77778ZM15.5556 7.55556C16.0465 7.55556 16.4444 7.15758 16.4444 6.66667C16.4444 6.17575 16.0465 5.77778 15.5556 5.77778C15.0646 5.77778 14.6667 6.17575 14.6667 6.66667C14.6667 7.15758 15.0646 7.55556 15.5556 7.55556ZM4 12C4 11.5091 4.39797 11.1111 4.88889 11.1111H5.92952C6.29559 10.0754 7.28336 9.33333 8.44444 9.33333C9.60553 9.33333 10.5933 10.0754 10.9594 11.1111H19.1111C19.602 11.1111 20 11.5091 20 12C20 12.4909 19.602 12.8889 19.1111 12.8889H10.9594C10.5933 13.9246 9.60553 14.6667 8.44444 14.6667C7.28336 14.6667 6.29559 13.9246 5.92952 12.8889H4.88889C4.39797 12.8889 4 12.4909 4 12ZM8.44444 12.8889C8.93537 12.8889 9.33333 12.4909 9.33333 12C9.33333 11.5091 8.93537 11.1111 8.44444 11.1111C7.95353 11.1111 7.55556 11.5091 7.55556 12C7.55556 12.4909 7.95353 12.8889 8.44444 12.8889ZM4.88889 16.4444C4.39797 16.4444 4 16.8424 4 17.3333C4 17.8243 4.39797 18.2222 4.88889 18.2222H13.0406C13.4067 19.258 14.3945 20 15.5556 20C16.7166 20 17.7044 19.258 18.0705 18.2222H19.1111C19.602 18.2222 20 17.8243 20 17.3333C20 16.8424 19.602 16.4444 19.1111 16.4444H18.0705C17.7044 15.4087 16.7166 14.6667 15.5556 14.6667C14.3945 14.6667 13.4067 15.4087 13.0406 16.4444H4.88889ZM16.4444 17.3333C16.4444 17.8243 16.0465 18.2222 15.5556 18.2222C15.0646 18.2222 14.6667 17.8243 14.6667 17.3333C14.6667 16.8424 15.0646 16.4444 15.5556 16.4444C16.0465 16.4444 16.4444 16.8424 16.4444 17.3333Z"
            fill="#2E334C"
          />
        </svg>
      </template>
      <template #label> Filters </template>
      <template v-if="isExpanded" #iconRight>
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="ml-auto"
        >
          <path
            d="M13.4086 11.9991L17.7045 7.71268C17.8926 7.52453 17.9983 7.26935 17.9983 7.00326C17.9983 6.73718 17.8926 6.482 17.7045 6.29385C17.5164 6.1057 17.2612 6 16.9952 6C16.7291 6 16.474 6.1057 16.2859 6.29385L12 10.5903L7.71414 6.29385C7.52602 6.1057 7.27087 6 7.00483 6C6.73878 6 6.48363 6.1057 6.29551 6.29385C6.10739 6.482 6.0017 6.73718 6.0017 7.00326C6.0017 7.26935 6.10739 7.52453 6.29551 7.71268L10.5914 11.9991L6.29551 16.2856C6.20187 16.3785 6.12755 16.489 6.07683 16.6108C6.02611 16.7325 6 16.8631 6 16.995C6 17.1269 6.02611 17.2575 6.07683 17.3793C6.12755 17.501 6.20187 17.6116 6.29551 17.7044C6.38839 17.7981 6.49888 17.8724 6.62062 17.9232C6.74236 17.9739 6.87294 18 7.00483 18C7.13671 18 7.26729 17.9739 7.38903 17.9232C7.51077 17.8724 7.62127 17.7981 7.71414 17.7044L12 13.408L16.2859 17.7044C16.3787 17.7981 16.4892 17.8724 16.611 17.9232C16.7327 17.9739 16.8633 18 16.9952 18C17.1271 18 17.2576 17.9739 17.3794 17.9232C17.5011 17.8724 17.6116 17.7981 17.7045 17.7044C17.7981 17.6116 17.8724 17.501 17.9232 17.3793C17.9739 17.2575 18 17.1269 18 16.995C18 16.8631 17.9739 16.7325 17.9232 16.6108C17.8724 16.489 17.7981 16.3785 17.7045 16.2856L13.4086 11.9991Z"
            fill="#2E334C"
          />
        </svg>
      </template>
    </BaseBtn>
  </div>
</template>

<script lang="ts">
import { defineComponent } from "vue";
import { mapState } from "vuex";

export default defineComponent({
  name: "FiltersMenu",
  computed: {
    ...mapState({ isExpanded: "isFilterPanelExpanded" }),
  },
  methods: {
    togglePanel() {
      this.$store.commit("toggleFilterPanel");
      // this.toggleFilterPanel();
    },
  },
});
</script>

<style lang="scss" scoped>
.filters-menu {
  padding-inline: 24px;
  border-right: 1px solid #ebedf5;
  &.expanded {
    width: 260px;
  }
  &.collapsed {
    width: 119px;
    padding-inline: 0;
  }

  button {
    padding: 12px 30px 12px 24px;
    font-family: var(--ics-font-family);
    font-size: 16px;
    font-weight: 600;
    line-height: 24px;
    width: 100%;
    border-bottom: 1px solid #ebedf5;
    text-align: left;
  }
}
</style>
